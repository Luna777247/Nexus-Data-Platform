# Redis Sentinel Configuration for Nexus Data Platform
# Version: 7.2

# ========================================
# SENTINEL PORT
# ========================================
port 26379
bind 0.0.0.0

# ========================================
# MONITORING
# ========================================
# sentinel monitor <master-name> <ip> <port> <quorum>
sentinel monitor nexus-redis redis 6379 1

# ========================================
# AUTHENTICATION
# ========================================
# If Redis master has password protection:
# sentinel auth-pass nexus-redis your-redis-password

# ========================================
# TIMEOUTS
# ========================================
# How long (in milliseconds) an instance should not be reachable
sentinel down-after-milliseconds nexus-redis 5000

# How long the failover timeout is
sentinel failover-timeout nexus-redis 10000

# How many replicas can be reconfigured simultaneously
sentinel parallel-syncs nexus-redis 1

# ========================================
# NOTIFICATION SCRIPT
# ========================================
# sentinel notification-script nexus-redis /path/to/notification.sh
# sentinel client-reconfig-script nexus-redis /path/to/reconfig.sh

# ========================================
# LOGGING
# ========================================
loglevel notice
logfile ""

# ========================================
# WORKING DIRECTORY
# ========================================
dir /data

# ========================================
# PROTECTED MODE
# ========================================
protected-mode no

# ========================================
# SENTINEL DENY SCRIPTS RECONFIG
# ========================================
sentinel deny-scripts-reconfig yes

# ========================================
# SENTINEL RESOLVE HOSTNAMES
# ========================================
# sentinel resolve-hostnames no

# ========================================
# SENTINEL ANNOUNCE
# ========================================
# If Sentinel is behind NAT or in Docker, configure:
# sentinel announce-ip <ip>
# sentinel announce-port <port>
